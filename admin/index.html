<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Admin â€¢ Earn Mini Bot</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <script type="importmap">
    {
      "imports": {
        "firebase-app": "https://www.gstatic.com/firebasejs/10.12.5/firebase-app.js",
        "firebase-firestore": "https://www.gstatic.com/firebasejs/10.12.5/firebase-firestore.js",
        "firebase-auth": "https://www.gstatic.com/firebasejs/10.12.5/firebase-auth.js"
      }
    }
  </script>
</head>
<body class="bg-light">
  <div class="container py-4">
    <h4 class="mb-3">Admin Panel</h4>

    <div id="authBox" class="card mb-3">
      <div class="card-body">
        <form id="loginForm" class="row g-2">
          <div class="col-auto"><input id="email" type="email" placeholder="Email" class="form-control" required /></div>
          <div class="col-auto"><input id="password" type="password" placeholder="Password" class="form-control" required /></div>
          <div class="col-auto"><button class="btn btn-primary" type="submit">Login</button></div>
        </form>
        <div class="form-text">Protect with Firebase Auth and custom claims in production.</div>
      </div>
    </div>

    <div id="adminContent" class="d-none">
      <div class="card mb-3">
        <div class="card-body">
          <h6>Global Settings</h6>
          <form id="settingsForm" class="row g-2 align-items-end">
            <div class="col-6 col-md-3">
              <label class="form-label">Daily Task Limit</label>
              <input id="dailyTaskLimit" type="number" class="form-control" />
            </div>
            <div class="col-6 col-md-3">
              <label class="form-label">Points/Task</label>
              <input id="pointsPerTask" type="number" class="form-control" />
            </div>
            <div class="col-6 col-md-3">
              <label class="form-label">Referral Points</label>
              <input id="referralPoints" type="number" class="form-control" />
            </div>
            <div class="col-6 col-md-3">
              <label class="form-label">Commission Rate</label>
              <input id="commissionRate" type="number" step="0.01" class="form-control" />
            </div>
            <div class="col-12">
              <label class="form-label">Payment Methods (comma separated)</label>
              <input id="paymentMethods" class="form-control" />
            </div>
            <div class="col-12">
              <button class="btn btn-success" type="submit">Save</button>
              <button id="logout" class="btn btn-outline-danger ms-2" type="button">Logout</button>
            </div>
          </form>
        </div>
      </div>

      <div class="card">
        <div class="card-body">
          <h6 class="mb-3">Withdrawal Requests</h6>
          <div id="withdrawals" class="vstack gap-2"></div>
        </div>
      </div>
    </div>

  </div>
  <div class="toast-container position-fixed top-0 start-50 translate-middle-x p-3" id="toastContainer"></div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script type="module" src="./admin.js"></script>
</body>
</html>
